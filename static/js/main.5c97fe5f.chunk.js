(this["webpackJsonpattendance-management-system"]=this["webpackJsonpattendance-management-system"]||[]).push([[0],{247:function(e,t,a){},251:function(e,t,a){},372:function(e,t,a){"use strict";a.r(t);var n,r,s=a(1),c=a.n(s),i=a(59),o=a.n(i),u=(a(247),a(436)),l=a(41),d=a(27),b=a(20),j=(a(251),a(17)),p=a(5),h=a(77),O=a(32),m=a(482),f=a(479),x=a(438),g=a(469),v=a(487),y=a(3),k=a(14),w=a.n(k),q=a(26),S=a(21),D=a(216),C=a.n(D).a.create({baseURL:"https://nameless-sands-43248.herokuapp.com/api/v1/"}),A=Object(S.b)("post/login",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"login",e.next=4,C.post("login",t);case 4:return a=e.sent,e.abrupt("return",[Object(j.a)({},a.data.data),null]);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response){e.next=15;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 15:if(!e.t0.request){e.next=19;break}return e.abrupt("return",[null,e.t0.request]);case 19:return e.abrupt("return",[null,e.t0.message]);case 20:case 21:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),_=Object(S.c)({name:"auth",initialState:{loading:!1,userData:{},errorMessage:""},reducers:{},extraReducers:(n={},Object(y.a)(n,A.pending,(function(e,t){e.loading=!0})),Object(y.a)(n,A.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.errorMessage=r.data.errors[0].title:(e.userData=Object(j.a)({},n),e.errorMessage="")})),Object(y.a)(n,A.rejected,(function(e,t){e.error=t.payload,e.loading=!1})),n)}).reducer,T=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},R=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0!==a){var n=new Date;n.setTime(n.getTime()+60*a*1e3);var r="expires="+n.toUTCString();document.cookie=e+"="+t+";"+r+";path=/"}else document.cookie=e+"="+t},I={login:function(e,t){R("token",e.auth_token,400),R("role",e.role,400),R("userId",e.id,400),t()},logout:function(e){R("token",""),R("role",""),R("userId",""),e()},isAuthenticated:function(e){return T("token")&&!0}},U=a(15),H=a(16),V=a(18),z=a(19),E=a(437),P=a(478),F=a(480),W=a(481),B=a.p+"static/media/gurzuLogo.706ca432.svg",M=Object(S.b)("get/currentUser/",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=T("token"),C.defaults.headers.common.Authorization=t,e.next=5,C.get("profile");case 5:return a=e.sent,e.abrupt("return",[a.data,null]);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=16;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 16:if(!e.t0.request){e.next=20;break}return e.abrupt("return",[null,e.t0.request]);case 20:return e.abrupt("return",[null,e.t0.message]);case 21:case"end":return e.stop()}}),e,null,[[0,9]])})))),N=Object(S.b)("get/user/",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=T("token"),C.defaults.headers.common.Authorization=a,e.next=5,C.get("users/".concat(t));case 5:return n=e.sent,e.abrupt("return",[n.data,null]);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response){e.next=16;break}return r=e.t0.response,s=r.data,c=r.status,i=r.headers,e.abrupt("return",[null,{data:s,status:c,headers:i}]);case 16:if(!e.t0.request){e.next=20;break}return e.abrupt("return",[null,e.t0.request]);case 20:return e.abrupt("return",[null,e.t0.message]);case 21:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),L=Object(S.b)("post/users",function(){var e=Object(q.a)(w.a.mark((function e(t,a){var n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.rejectWithValue,e.prev=1,"/users",n=T("token"),C.defaults.headers.common.Authorization=n,e.next=7,C.post("/users",t);case 7:return r=e.sent,e.abrupt("return",[r.data,null]);case 11:if(e.prev=11,e.t0=e.catch(1),!e.t0.response){e.next=18;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 18:if(!e.t0.request){e.next=22;break}return e.abrupt("return",[null,e.t0.request]);case 22:return e.abrupt("return",[null,e.t0.message]);case 23:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()),G=Object(S.b)("patch/user",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="/users/".concat(t.user.id),n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.patch(a,t.user);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),J=Object(S.b)("delete/user",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="users/".concat(t),n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.delete(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Y=Object(S.c)({initialState:{currentUserData:{},data:{},loading:!1,error:""},name:"userDetail",reducers:{resetUserDetail:function(e){e.currentUserData={}}},extraReducers:(r={},Object(y.a)(r,M.pending,(function(e,t){e.loading=!0})),Object(y.a)(r,M.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r.message:e.currentUserData=n.data})),Object(y.a)(r,M.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(r,N.pending,(function(e,t){e.loading=!0})),Object(y.a)(r,N.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r.message:e.data=n.data})),Object(y.a)(r,N.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(r,L.pending,(function(e,t){e.loading=!0})),Object(y.a)(r,L.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.data=n.user})),Object(y.a)(r,L.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(r,G.pending,(function(e,t){e.loading=!0})),Object(y.a)(r,G.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.data=n.user})),Object(y.a)(r,G.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(r,J.pending,(function(e,t){e.loading=!0})),Object(y.a)(r,J.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.data=n.user})),Object(y.a)(r,J.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),r)}),K=Y.reducer,Q=Y.actions.resetUserDetail,X=K,Z=a(0),$=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this,t=this.props.dispatch;return Object(Z.jsx)(u.a,{sx:{width:"100%",position:"relative"},children:Object(Z.jsx)(P.a,{position:"sticky",sx:{width:I.isAuthenticated()?"calc(100vw - 200px)":"100vw"},color:"light",children:Object(Z.jsxs)(F.a,{children:[Object(Z.jsx)(u.a,{sx:{flexGrow:1},children:Object(Z.jsx)("img",{src:B,alt:"Gurzu logo",width:120})}),I.isAuthenticated()&&Object(Z.jsx)(W.a,{onClick:function(){return I.logout((function(){t(Q()),e.props.history.push("/login")}))},children:Object(Z.jsx)(E.a,{})})]})})})}}]),a}(s.Component);$=Object(b.b)((function(e){return{auth:e.auth,userDetail:e.userDetail}}))($);var ee=a(468),te=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){var e=this.props.values,t=e.severity,a=e.title,n=e.message,r=this.props.display;return Object(Z.jsx)(u.a,{children:Object(Z.jsxs)(ee.a,{severity:t,sx:{display:r,position:"fixed",bottom:20,right:20,zIndex:9},variant:"filled",children:[a,n]})})}}]),a}(s.Component),ae=Object(S.c)({initialState:{data:{role:3}},name:"root",reducers:{setState:function(e,t){e.data=t.payload}}}),ne=(ae.reducer,ae.actions.setState),re=O.b({email:O.c("Enter your email").email("Enter a valid email").required("Email is required"),password:O.c("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),se=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(b.c)(),i=Object(b.d)((function(e){return e})),o=Object(h.a)({initialValues:{email:"",password:""},validationSchema:re,onSubmit:function(t){c(A({user:t})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0];a[1]?r(!0):(c(ne(n.attributes)),I.login(Object(j.a)(Object(j.a)({},n.attributes),{},{id:n.id}),(function(){e.history.push("/")})))}))}});return I.isAuthenticated()&&e.history.push("/"),Object(Z.jsxs)(u.a,{sx:{height:"100vh"},children:[Object(Z.jsx)($,{}),Object(Z.jsx)(te,{values:{severity:"error",title:"",message:i.auth.errorMessage},display:n?"flex":"none"}),Object(Z.jsx)(m.a,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItem:"center",mt:10},children:Object(Z.jsx)(f.a,{elevation:2,sx:{p:5},children:Object(Z.jsx)("form",{onSubmit:o.handleSubmit,children:Object(Z.jsxs)(x.a,{direction:"column",spacing:3,alignItems:"center",children:[Object(Z.jsx)(g.a,{margin:"normal",id:"email",name:"email",label:"Email",value:o.values.email,onChange:o.handleChange,error:o.touched.email&&Boolean(o.errors.email),helperText:o.touched.email&&o.errors.email}),Object(Z.jsx)(g.a,{margin:"normal",id:"password",name:"password",label:"Password",type:"password",value:o.values.password,onChange:o.handleChange,error:o.touched.password&&Boolean(o.errors.password),helperText:o.touched.password&&o.errors.password}),Object(Z.jsx)(v.a,{color:"primary",variant:"contained",type:"submit",margin:"normal",size:"medium",sx:{m:"0 auto",maxWidth:"6px"},children:"Login"}),Object(Z.jsx)(v.a,{variant:"text",sx:{m:"0 auto"},href:"/forgot-password",children:"Forgot your password?"})]})})})})]})},ce=a(223),ie=a(446),oe=a(447),ue=a(448),le=a(449),de=a(450),be=a(451),je=a(486),pe=a(471),he=a(452),Oe=a(145),me=a(453),fe=a(454),xe=a(455),ge=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(M())}},{key:"render",value:function(){var e=this,t=this.props.currentUserData,a=[{icon:Object(Z.jsx)(ie.a,{color:"light"}),text:"Dashboard"},{icon:Object(Z.jsx)(oe.a,{color:"light"}),text:"Employees"},{icon:Object(Z.jsx)(ue.a,{color:"light"}),text:"Attendance"},{icon:Object(Z.jsx)(le.a,{color:"light"}),text:"Requests"},{icon:Object(Z.jsx)(de.a,{color:"light"}),text:"Holidays"}],n=[{icon:Object(Z.jsx)(ie.a,{color:"light"}),text:"Dashboard"},{icon:Object(Z.jsx)(be.a,{color:"light"}),text:"User Profile"},{icon:Object(Z.jsx)(ue.a,{color:"light"}),text:"Attendance"},{icon:Object(Z.jsx)(le.a,{color:"light"}),text:"Requests"}],r="3"===T("role")?n:a;return Object(Z.jsx)(u.a,{sx:{bgcolor:"primary.main",color:"light.main",height:"100%",minHeight:"100vh",width:"200px"},children:Object(Z.jsxs)(je.a,{children:[Object(Z.jsx)(pe.a,{children:Object(Z.jsxs)(he.a,{children:[Object(Z.jsxs)(Oe.a,{variant:"body1",children:["Welcome ",Object(Z.jsx)("br",{})," ",t.name,Object(Z.jsx)("br",{})]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body2",children:["Email: ",t.email]})]})}),Object(Z.jsx)(me.a,{}),r.map((function(t,a){return Object(Z.jsx)(pe.a,{children:Object(Z.jsxs)(fe.a,{onClick:function(){e.props.history.push("/".concat(t.text.toLowerCase().replace(" ","")))},children:[Object(Z.jsx)(xe.a,{children:t.icon}),Object(Z.jsx)(he.a,{children:t.text})]})},a)}))]})})}}]),a}(s.Component);ge=Object(b.b)((function(e){return Object(j.a)({},e.userDetail)}))(ge);var ve=["component"];function ye(e){var t=e.component,a=Object(ce.a)(e,ve);return Object(Z.jsx)(d.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return I.isAuthenticated()?Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(x.a,{direction:"row",children:[Object(Z.jsx)(u.a,{children:Object(Z.jsx)(ge,Object(j.a)({},e))}),Object(Z.jsxs)(u.a,{children:[Object(Z.jsx)($,Object(j.a)({},e)),Object(Z.jsx)(u.a,{children:Object(Z.jsx)(t,Object(j.a)({},e))})]})]})}):Object(Z.jsx)(d.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}var ke=a(169),we=Object(ke.a)({palette:{primary:{main:"#0748A6",contrastText:"#f2f2f2"},secondary:{main:"#94C0FF",contrastText:"#f2f2f2"},dark:{main:"#333333",contrastText:"#f2f2f2"},light:{main:"#f2f2f2",contrastText:"#333333"},gray:{main:"#a3a3a3"}}}),qe={main:"linear-gradient(to bottom right, #39C1FD, #18E7FE)"},Se={main:"linear-gradient(to bottom right, #D7B7FF, #A078FF)"},De={main:"linear-gradient(to bottom right, #F46173, #F28579)"},Ce={main:"linear-gradient(to bottom right, #F57F28, #F6B44A)"},Ae=a(459),_e=a(474),Te=a(55),Re=a(489),Ie=a(490),Ue=a(493),He=a(492),Ve=a(488),ze=a(494),Ee=a(466),Pe=a(491),Fe=a(166),We=a.n(Fe),Be=a(168),Me=a.n(Be),Ne=a(167),Le=a.n(Ne),Ge=a(165),Je=a.n(Ge),Ye=a(456),Ke=a(457),Qe=a(458);function Xe(e){var t=Object(Te.a)(),a=e.count,n=e.page,r=e.rowsPerPage,s=e.onPageChange;return Object(Z.jsxs)(u.a,{sx:{flexShrink:0,ml:2.5},children:[Object(Z.jsx)(W.a,{onClick:function(e){s(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(Z.jsx)(Je.a,{}):Object(Z.jsx)(We.a,{})}),Object(Z.jsx)(W.a,{onClick:function(e){s(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(Z.jsx)(Le.a,{}):Object(Z.jsx)(Me.a,{})}),Object(Z.jsx)(W.a,{onClick:function(e){s(e,n+1)},disabled:n>=Math.ceil(a/r)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(Z.jsx)(Me.a,{}):Object(Z.jsx)(Le.a,{})}),Object(Z.jsx)(W.a,{onClick:function(e){s(e,Math.max(0,Math.ceil(a/r)-1))},disabled:n>=Math.ceil(a/r)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(Z.jsx)(We.a,{}):Object(Z.jsx)(Je.a,{})})]})}function Ze(e){var t=s.useState(0),a=Object(p.a)(t,2),n=a[0],r=a[1],c=s.useState(5),i=Object(p.a)(c,2),o=i[0],u=i[1],l=e.data,d=e.fields,b=e.buttons,j=n>0?Math.max(0,(1+n)*o-l.length):0;return Object(Z.jsx)(Ve.a,{component:f.a,children:Object(Z.jsxs)(Re.a,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(Z.jsx)(Ie.a,{children:Object(Z.jsxs)(Pe.a,{children:[d.map((function(e,t){return Object(Z.jsx)(He.a,{align:0!==t?"right":"left",children:e.replace("_"," ").toUpperCase()},t)})),b.map((function(e,t){return Object(Z.jsx)(He.a,{},t)}))]})}),Object(Z.jsxs)(Ue.a,{children:[(o>0?l.slice(n*o,n*o+o):l).map((function(e,t){return Object(Z.jsxs)(Pe.a,{children:[d.map((function(t,a){return Object(Z.jsx)(He.a,{scope:"row",align:0!==a?"right":"left",width:"auto",children:e[t]},a)})),b.length>0&&b.map((function(t,a){return Object(Z.jsx)(He.a,{children:"view"===t.type?Object(Z.jsx)(W.a,{color:"light",sx:{background:qe.main,"&:hover":{transform:"scale(1.1)"}},onClick:function(){t.callback(e.id)},children:Object(Z.jsx)(Ye.a,{})}):"edit"===t.type?Object(Z.jsx)(W.a,{color:"light",sx:{background:Ce.main,"&:hover":{transform:"scale(1.1)"}},onClick:function(){t.callback(e.id)},children:Object(Z.jsx)(Ke.a,{})}):"delete"===t.type?Object(Z.jsx)(W.a,{color:"light",sx:{background:De.main,"&:hover":{transform:"scale(1.1)"}},onClick:function(){t.callback(e.id)},children:Object(Z.jsx)(Qe.a,{})}):"none"===t.type?null:Object(Z.jsx)(v.a,{variant:"contained",onClick:function(){t.callback(e.id)},disabled:"pending"!==e.approval_status,children:t.type})},a)}))]},t)})),j>0&&Object(Z.jsx)(Pe.a,{style:{height:53*j},children:Object(Z.jsx)(He.a,{colSpan:6})})]}),Object(Z.jsx)(ze.a,{children:Object(Z.jsx)(Pe.a,{children:Object(Z.jsx)(Ee.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:5,count:l.length,rowsPerPage:o,page:n,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,t){r(t)},onRowsPerPageChange:function(e){u(parseInt(e.target.value,10)),r(0)},ActionsComponent:Xe})})})]})})}var $e,et,tt=a(24),at=Object(S.b)("get/users",Object(q.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=T("token"),C.defaults.headers.common.Authorization=t,e.next=5,C.get("users");case 5:return a=e.sent,e.abrupt("return",[a.data,null]);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[null,e.t0.message]);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))),nt=Object(S.c)({initialState:{data:[],mapIdToName:{}},name:"employee",reducers:{},extraReducers:($e={},Object(y.a)($e,at.pending,(function(e,t){e.loading=!0})),Object(y.a)($e,at.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:(e.data=Object(tt.a)(n.data),e.data.forEach((function(t){e.mapIdToName["".concat(t.id)]=t.name})))})),Object(y.a)($e,at.rejected,(function(e,t){e.loading=!0,e.error=t.payload})),$e)}).reducer,rt=Object(S.b)("get/timer",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"start_timer",a=T("token"),C.defaults.headers.common.Authorization=a,e.next=6,C.get("start_timer");case 6:return n=e.sent,e.abrupt("return",[n.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return r=e.t0.response,s=r.data,c=r.status,i=r.headers,e.abrupt("return",[null,{data:s,status:c,headers:i}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),st=Object(S.b)("get/allAttendance",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"all_attendances",a=T("token"),C.defaults.headers.common.Authorization=a,e.next=6,C.get("all_attendances");case 6:return n=e.sent,e.abrupt("return",[n.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return r=e.t0.response,s=r.data,c=r.status,i=r.headers,e.abrupt("return",[null,{data:s,status:c,headers:i}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),ct=Object(S.b)("get/myAttendance",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"attendances",t=T("token"),C.defaults.headers.common.Authorization=t,e.next=6,C.get("attendances");case 6:return a=e.sent,e.abrupt("return",[a.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})))),it=Object(S.b)("get/userAttendance",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="user_attendances/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),ot=Object(S.b)("post/attendance",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c,i,o,u=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:{},e.prev=1,a="attendances",n=T("token"),C.defaults.headers.common.Authorization=n,e.next=7,C.post(a,t);case 7:return r=e.sent,e.abrupt("return",[r.data,null]);case 11:if(e.prev=11,e.t0=e.catch(1),!e.t0.response){e.next=18;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 18:if(!e.t0.request){e.next=22;break}return e.abrupt("return",[null,e.t0.request]);case 22:return e.abrupt("return",[null,e.t0.message]);case 23:case"end":return e.stop()}}),e,null,[[1,11]])})))),ut=Object(S.b)("patch/attendance",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c,i,o,u,l,d=arguments;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:{},e.prev=1,a=t.attId,n=t.data||{},r="attendances/"+a,s=T("token"),C.defaults.headers.common.Authorization=s,e.next=9,C.patch(r,n);case 9:return c=e.sent,e.abrupt("return",[c.data,null]);case 13:if(e.prev=13,e.t0=e.catch(1),!e.t0.response){e.next=20;break}return i=e.t0.response,o=i.data,u=i.status,l=i.headers,e.abrupt("return",[null,{data:o,status:u,headers:l}]);case 20:if(!e.t0.request){e.next=24;break}return e.abrupt("return",[null,e.t0.request]);case 24:return e.abrupt("return",[null,e.t0.message]);case 25:case"end":return e.stop()}}),e,null,[[1,13]])})))),lt=Object(S.b)("delete/attendance",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.attId,n="attendances/"+a,r=T("token"),C.defaults.headers.common.Authorization=r,e.next=7,C.delete(n);case 7:return s=e.sent,e.abrupt("return",[s.data,null]);case 11:if(e.prev=11,e.t0=e.catch(0),!e.t0.response){e.next=18;break}return c=e.t0.response,i=c.data,o=c.status,u=c.headers,e.abrupt("return",[null,{data:i,status:o,headers:u}]);case 18:if(!e.t0.request){e.next=22;break}return e.abrupt("return",[null,e.t0.request]);case 22:return e.abrupt("return",[null,e.t0.message]);case 23:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),dt=Object(S.c)({name:"attendance",initialState:{allAttendanceData:[],attendanceResult:{},loading:!1,error:{},clockout:!1},reducers:{},extraReducers:(et={},Object(y.a)(et,st.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,st.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allAttendanceData=n.data})),Object(y.a)(et,st.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(et,ct.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,ct.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allAttendanceData=n.data})),Object(y.a)(et,ct.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(et,it.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,it.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allAttendanceData=n.data})),Object(y.a)(et,it.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(et,ot.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,ot.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:(e.attendanceResult=n.data,e.allAttendanceData[e.allAttendanceData.length-1]=n.data)})),Object(y.a)(et,ot.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(et,ut.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,ut.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:(e.attendanceResult=n.data,e.allAttendanceData[e.allAttendanceData.length-1]=n.data)})),Object(y.a)(et,ut.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(et,lt.pending,(function(e,t){e.loading=!0})),Object(y.a)(et,lt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:(e.attendanceResult=n.data,e.allAttendanceData[e.allAttendanceData.length-1]=n.data)})),Object(y.a)(et,lt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),et)}).reducer,bt=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).clockOut=function(e){if(e.length)return null===n.latestAttendance(e).clock_out},n.userId=n.props.match.params.id,n.dispatch=n.props.dispatch,n.state={error:"",userDetails:{},messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(N(this.userId)),this.dispatch(it(this.userId))}},{key:"promiseHandler",value:function(e){var t=this;e?e.data?this.setState({messageTitle:e.data.message,messageSeverity:"warning",messageVisibility:"flex"}):this.setState({messageTitle:"oops!! Something Went Wrong",messageSeverity:"warning",messageVisibility:"flex"}):this.setState({messageTitle:"Attendance Successfully Recorded",messageSeverity:"success",messageVisibility:"flex"}),setTimeout((function(){t.setState({messageTitle:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)}},{key:"latestAttendance",value:function(e){return e[e.length-1]}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.props.allAttendanceData;return a=(a=a.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{leave_status:e.leave_status?"on a leave":"none"})}))).map((function(t){return Object(j.a)(Object(j.a)({},t),{},{clock_in:null!==t.clock_in?t.clock_in.slice(11,19):null,clock_out:null!==t.clock_out?t.clock_out.slice(11,19):null,user_id:e.props.allUser.mapIdToName[t.user_id]})})),Object(Z.jsxs)(u.a,{children:[Object(Z.jsx)(te,{values:{severity:this.state.messageSeverity,title:this.state.messageTitle},display:this.state.messageVisibility}),Object(Z.jsx)(W.a,{sx:{margin:2},onClick:function(){return e.props.history.push("/employees")},children:Object(Z.jsx)(Ae.a,{})}),Object(Z.jsxs)(x.a,{direction:"row",spacing:2,margin:2,children:[Object(Z.jsx)(_e.a,{alt:"user profile pricture",src:"https://thispersondoesnotexist.com/image",variant:"rounded",sx:{width:"15vw",height:"auto"}}),Object(Z.jsx)(me.a,{orientation:"vertical"}),Object(Z.jsxs)(f.a,{sx:{padding:2},children:[Object(Z.jsxs)(Oe.a,{variant:"h6",children:["ID: ",t.id," ",Object(Z.jsx)("br",{}),"Name: ",t.name]}),Object(Z.jsx)(me.a,{}),Object(Z.jsxs)(Oe.a,{variant:"body1",children:["Email: ",t.name," ",Object(Z.jsx)("br",{}),"Contact: ",t.email," ",Object(Z.jsx)("br",{}),"role: ",1===t.role?"SuperUser":2===t.role?"Admin":"User"]}),Object(Z.jsx)(me.a,{}),Object(Z.jsxs)(Oe.a,{variant:"body2",children:["Gender: ",1===t.gender?"Male":"Female",Object(Z.jsx)("br",{}),"Salary: ",t.salary]})]})]}),Object(Z.jsxs)(u.a,{sx:{margin:2,marginBottom:0},children:[Object(Z.jsx)(v.a,{variant:"contained",sx:{margin:2,marginLeft:0},onClick:function(){e.clockOut(a)?e.dispatch(ut({attId:e.latestAttendance(a).id,data:{user_id:e.userId}})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(it(e.userId))})):e.dispatch(ot({user_id:e.userId})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(it(e.userId))}))},children:this.clockOut(a)?"Clock Out":"Clock In"}),Object(Z.jsx)(Ze,{data:a,fields:["att_date","clock_in","clock_out","leave_status"],buttons:[{type:"delete",callback:function(t){console.log(t),e.dispatch(lt({attId:t})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(it(e.userId))}))}}]})]})]})}}]),a}(s.Component);bt=Object(b.b)((function(e){return Object(j.a)(Object(j.a)(Object(j.a)({},e.userDetail),e.attendance),{},{allUser:e.allUser})}))(bt);var jt,pt=a(460),ht=a.p+"static/media/404.b50b6b05.jpg",Ot=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return Object(Z.jsxs)(x.a,{sx:{backgroundColor:"white"},justifyContent:"center",children:[Object(Z.jsx)(Oe.a,{variant:"h3",align:"center",children:"Page not found"}),Object(Z.jsx)("img",{src:ht,alt:"404 not found"})]})}}]),a}(s.Component),mt=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).promiseHandler=function(e,t){t?t.data.message?n.setState({message:JSON.stringify(t.data.message),messageSeverity:"Warning",messageVisibility:"flex"}):n.setState({message:"oops!! Something Went Wrong",messageSeverity:"Warning",messageVisibility:"flex"}):n.setState({messageTitle:"Record Deleted",messageSeverity:"success",messageVisibility:"flex"}),setTimeout((function(){n.setState({message:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)},n.dispatch=n.props.dispatch,n.location=n.props.location,n.state={messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dispatch(st()).then((function(){e.dispatch(at())}))}},{key:"render",value:function(){var e=this,t=this.props.allAttendanceData;t.length&&(t=t.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{clock_in:null!==t.clock_in?t.clock_in.slice(11,19):null,clock_out:null!==t.clock_out?t.clock_out.slice(11,19):null,user_id:e.props.allUser.mapIdToName[t.user_id],leave_status:t.leave_status?"on a leave":"none"})})));return this.props.userDetail.currentUserData.role>=3?Object(Z.jsx)(Ot,{}):Object(Z.jsxs)(pt.a,{sx:{margin:6},children:[Object(Z.jsx)(te,{values:{title:this.state.messageTitle,severity:this.state.messageSeverity},display:this.state.messageVisibility}),Object(Z.jsx)(Ze,{data:t,fields:["user_id","att_date","clock_in","clock_out","leave_status"],buttons:[{type:"delete",callback:function(t){console.log(t),e.dispatch(lt(t)).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0],r=a[1];e.promiseHandler(n,r),e.dispatch(st())}))}}]})]})}}]),a}(s.Component);mt=Object(b.b)((function(e){return Object(j.a)(Object(j.a)({},e.attendance),{},{allUser:e.allUser,userDetail:e.userDetail})}))(mt);var ft=Object(S.b)("getall/request",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"all_requests",t=T("token"),C.defaults.headers.common.Authorization=t,e.next=6,C.get("all_requests");case 6:return a=e.sent,e.abrupt("return",[a.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})))),xt=Object(S.b)("get/request",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="requests/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),gt=Object(S.b)("get/myRequest",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"requests",t=T("token"),C.defaults.headers.common.Authorization=t,e.next=6,C.get("requests");case 6:return a=e.sent,e.abrupt("return",[a.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})))),vt=Object(S.b)("get/userRequest",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="user_requests/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),yt=Object(S.b)("post/request",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"requests",a=T("token"),C.defaults.headers.common.Authorization=a,e.next=6,C.post("requests",t);case 6:return n=e.sent,e.abrupt("return",[n.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return r=e.t0.response,s=r.data,c=r.status,i=r.headers,e.abrupt("return",[null,{data:s,status:c,headers:i}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),kt=Object(S.b)("patch/request",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o,u,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.requestId,n=t.data,r="requests/"+a,s=T("token"),C.defaults.headers.common.Authorization=s,e.next=8,C.patch(r,n);case 8:return c=e.sent,e.abrupt("return",[c.data,null]);case 12:if(e.prev=12,e.t0=e.catch(0),!e.t0.response){e.next=19;break}return i=e.t0.response,o=i.data,u=i.status,l=i.headers,e.abrupt("return",[null,{data:o,status:u,headers:l}]);case 19:if(!e.t0.request){e.next=23;break}return e.abrupt("return",[null,e.t0.request]);case 23:return e.abrupt("return",[null,e.t0.message]);case 24:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),wt=Object(S.b)("approve/request",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="approve_request/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),qt=Object(S.b)("reject/request",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="reject_request/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),St=Object(S.c)({name:"request",initialState:{allRequestData:[],requestResult:{},myRequestData:[],loading:!1,error:{}},reducers:{},extraReducers:(jt={},Object(y.a)(jt,ft.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,ft.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allRequestData=n.data})),Object(y.a)(jt,ft.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(jt,xt.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,xt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.requestResult=n.data})),Object(y.a)(jt,xt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(jt,gt.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,gt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.myRequestData=n.data})),Object(y.a)(jt,gt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(jt,vt.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,vt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allRequestData=n.data})),Object(y.a)(jt,vt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(jt,yt.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,yt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:(e.requestResult=n.data,e.allRequestData.push(n.data))})),Object(y.a)(jt,yt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(jt,kt.pending,(function(e,t){e.loading=!0})),Object(y.a)(jt,kt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.requestResult=n.data})),Object(y.a)(jt,kt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),jt)}).reducer,Dt=a(495),Ct=a(496),At=a(497),_t=a(498),Tt=a(499),Rt=a(461),It=a.p+"static/media/401.890e6c54.jpg",Ut=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(){return Object(U.a)(this,a),t.apply(this,arguments)}return Object(H.a)(a,[{key:"render",value:function(){return Object(Z.jsxs)(x.a,{sx:{backgroundColor:"white"},justifyContent:"center",children:[Object(Z.jsx)(Oe.a,{variant:"h3",align:"center",children:"Not Authorized"}),Object(Z.jsx)("img",{src:It,alt:"401 not Authorized"})]})}}]),a}(s.Component),Ht=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).dispatch=n.props.dispatch,n.state={totalEmployees:0,userHash:{},todayAttendance:[],absentToday:[],pendingRequest:[],noOfRequest:0},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.dispatch(at()).then((function(){e.dispatch(st()).then((function(){e.dispatch(ft())}))}))}},{key:"filterByToday",value:function(e){var t=new Date,a="".concat(t.getFullYear(),"-").concat(("0"+(t.getMonth()+1)).slice(-2),"-").concat(("0"+t.getDate()).slice(-2));return e.filter((function(e){return e.att_date===a}))}},{key:"filterByPendingRequest",value:function(e){return e.filter((function(e){return"pending"===e.approval_status}))}},{key:"filterByOnLeaveToday",value:function(e){return e.filter((function(e){return e.leave_status}))}},{key:"filterByAbsentToday",value:function(e){return e.filter((function(e){return null===e.clock_in}))}},{key:"render",value:function(){var e=this;return this.props.userDetail.currentUserData.role>=3?Object(Z.jsx)(Ut,{}):Object(Z.jsxs)(pt.a,{margin:5,children:[Object(Z.jsx)("h2",{children:"AdminDashBoard"}),Object(Z.jsx)(v.a,{variant:"contained",onClick:function(){e.dispatch(rt())},children:"Start Clock"}),Object(Z.jsxs)(pt.a,{sx:{border:1,display:"flex",flexDirection:"row",flexWrap:"wrap",m:"40px 0px",width:"740px"},children:[Object(Z.jsx)(Dt.a,{variant:"outlined",sx:{margin:3},children:Object(Z.jsxs)(x.a,{direction:"row",alignItems:"center",children:[Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(Oe.a,{variant:"h6",children:this.props.allUser.data.length}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"Total Employees"})]}),Object(Z.jsx)(At.a,{sx:{margin:2},children:Object(Z.jsx)(_t.a,{children:Object(Z.jsx)(Rt.a,{})})})]})}),Object(Z.jsx)(Dt.a,{variant:"outlined",sx:{margin:3},children:Object(Z.jsxs)(x.a,{direction:"row",alignItems:"center",children:[Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(Oe.a,{variant:"h6",children:this.filterByPendingRequest(this.props.request.allRequestData).length}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"Number of Requests"})]}),Object(Z.jsx)(At.a,{sx:{margin:2},children:Object(Z.jsx)(_t.a,{children:Object(Z.jsx)(le.a,{})})})]})}),Object(Z.jsx)(Dt.a,{variant:"outlined",sx:{margin:3},children:Object(Z.jsxs)(x.a,{direction:"row",alignItems:"center",children:[Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(Oe.a,{variant:"h6",children:this.state.absentToday.length}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"absentToday"})]}),Object(Z.jsx)(At.a,{sx:{margin:2},children:Object(Z.jsx)(_t.a,{children:Object(Z.jsx)(ue.a,{})})})]})})]}),Object(Z.jsxs)(x.a,{direction:"row",spacing:3,children:[Object(Z.jsx)(f.a,{children:Object(Z.jsx)(je.a,{sx:{minHeight:"200px",minWidth:"200px"},subheader:Object(Z.jsx)(Tt.a,{component:"div",id:"nested-list-subheader",children:"Absent Today"}),children:this.filterByAbsentToday(this.state.todayAttendance).map((function(t,a){return Object(Z.jsx)(pe.a,{children:Object(Z.jsx)(he.a,{children:Object(Z.jsx)(Oe.a,{variant:"body1",children:e.props.allUser.mapIdToName.user_id})})},a)}))})}),Object(Z.jsx)(me.a,{orientation:"vertical"}),Object(Z.jsx)(f.a,{children:Object(Z.jsx)(l.b,{to:{pathname:"/requests"},style:{textDecoration:"none"},children:Object(Z.jsx)(je.a,{sx:{minHeight:"200px",minWidth:"200px"},subheader:Object(Z.jsx)(Tt.a,{component:"div",id:"nested-list-subheader",children:"Pending Request"}),children:this.filterByPendingRequest(this.props.request.allRequestData).map((function(t,a){return Object(Z.jsxs)(pe.a,{children:[Object(Z.jsx)(me.a,{}),Object(Z.jsxs)(he.a,{children:[Object(Z.jsx)(Oe.a,{variant:"body1",color:"dark.main",children:e.props.allUser.mapIdToName[t.user_id]}),Object(Z.jsx)(Oe.a,{variant:"body2",color:"dark.main",children:"from: "+t.from+" to: "+t.to}),Object(Z.jsx)(Oe.a,{color:"dark.main",children:t.remarks.slice(0,20)+"..."})]}),Object(Z.jsx)(me.a,{})]},a)}))})})})]})]})}}]),a}(s.Component);Ht=Object(b.b)((function(e){return Object(j.a)({},e)}))(Ht);var Vt=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).dispatch=n.props.dispatch,n.history=n.props.history,n.state={messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(ft())}},{key:"promiseHandler",value:function(e,t){var a=this;t?this.setState({messageTitle:t.data.message,messageSeverity:"warning",messageVisibility:"flex"}):this.setState({messageTitle:"Attendance Successfully Recorded",messageSeverity:"success",messageVisibility:"flex"}),setTimeout((function(){a.setState({messageTitle:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)}},{key:"render",value:function(){var e=this,t=this.props.allRequestData.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{user_id:e.props.allUser.mapIdToName[t.user_id],approved_by:e.props.allUser.mapIdToName[t.approved_by]})}));return Object(Z.jsxs)(u.a,{m:2,children:[Object(Z.jsx)("h1",{children:"Leave Requests"}),Object(Z.jsx)(te,{values:{severity:this.state.messageSeverity,title:this.state.messageTitle,message:""},display:this.state.messageVisibility}),Object(Z.jsx)(Ze,{fields:["user_id","from","to","approval_status","approved_by"],data:t,buttons:[{type:"view",callback:function(t){e.history.push("/requests/".concat(t))}},{type:"Approve",callback:function(t){e.dispatch(wt(t)).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0],r=a[1];e.promiseHandler(n,r)}))}},{type:"Reject",callback:function(t){e.dispatch(qt(t)).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0],r=a[1];e.promiseHandler(n,r)}))}}]})]})}}]),a}(s.Component);Vt=Object(b.b)((function(e){return Object(j.a)(Object(j.a)({},e.request),{},{allUser:e.allUser})}))(Vt);var zt=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).dispatch=n.props.dispatch,n.history=n.props.history,n.state={messageSeverity:"info",messageTitle:"",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(at())}},{key:"promiseHandler",value:function(e){var t=this;null===e?this.setState({messageTitle:"User Succesfully Deleted",messageSeverity:"success",messageVisibility:"flex"}):this.setState({messageTitle:e.data.message,messageSeverity:"warning",messageVisibility:"flex"}),setTimeout((function(){t.setState({messageTitle:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)}},{key:"render",value:function(){var e=this,t=this.props.data;return this.props.userDetail.currentUserData.role>=3?Object(Z.jsx)(Ut,{}):Object(Z.jsxs)(u.a,{margin:6,children:[Object(Z.jsx)(te,{values:{title:this.state.messageTitle,severity:this.state.messageSeverity},display:this.state.messageVisibility}),Object(Z.jsxs)(u.a,{margin:6,children:[Object(Z.jsx)(l.b,{to:{pathname:"newUser",state:{method:"post",from:this.props.location.path}},style:{textDecoration:"none"},children:Object(Z.jsx)(v.a,{sx:{marginBottom:4},variant:"contained",children:"Add new user"})}),Object(Z.jsx)(Ze,{data:t,fields:["id","name","email","gender","role","contact"],buttons:[{type:"view",callback:function(t){e.history.push("/users/".concat(t))}},{type:"edit",callback:function(t){e.dispatch(N(t)).unwrap().then((function(a){var n=Object(p.a)(a,2),r=n[0];n[1];e.history.push("/users/edit/".concat(t),{userData:r.data,method:"patch"})}))}},{type:"delete",callback:function(t){e.dispatch(J(t)).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(at())}))}}]})]})]})}}]),a}(s.Component);zt=Object(b.b)((function(e){return Object(j.a)(Object(j.a)({},e.allUser),{},{userDetail:e.userDetail})}))(zt);var Et=a(485),Pt=a(440),Ft=a(475),Wt=a(500),Bt=a(467),Mt=O.b({name:O.c("Enter name").required("Name is required"),email:O.c("Enter email").email("Enter a valid email").required("Email is required"),password:O.c("Enter password").min(8,"Password should be of minimum 8 characters length").required("Password is required"),gender:O.a("Select Gender").required("Gender is required"),role:O.a("Select Role").required("Role is required"),contact:O.c("Enter Contact").required("Contact cannot be black")}),Nt=O.b({name:O.c("Enter name").required("Name is required"),email:O.c("Enter email").email("Enter a valid email").required("Email is required"),gender:O.a("Select Gender").required("Gender is required"),role:O.a("Select Role").required("Role is required"),contact:O.c("Enter Contact").required("Contact cannot be black")}),Lt=function(e){var t=Object(b.c)(),a=e.location.state.method,n=Object(s.useState)(""),r=Object(p.a)(n,2),c=r[0],i=r[1],o=Object(s.useState)(!1),u=Object(p.a)(o,2),l=u[0],O=u[1],y=Object(s.useState)("info"),k=Object(p.a)(y,2),w=k[0],q=k[1],S=Object(d.g)(),D=S.location.state.userData,C=D?Object(j.a)(Object(j.a)({},D),{},{gender:D.gender.toString(),role:D.role.toString()}):{name:"",email:"",password:"password123",gender:"",role:"",contact:"",salary:""},A=Object(h.a)({initialValues:C,validationSchema:"post"===a?Mt:Nt,onSubmit:function(e){var n={user:Object(j.a)(Object(j.a)({},e),{},{gender:parseInt(e.gender),role:parseInt(e.role),salary:parseFloat(e.salary)})};"post"===a?t(L(n)).unwrap().then((function(e){var t=Object(p.a)(e,2),a=(t[0],t[1]);a?"422"===a.data.code?(i(a.data.message.email),O(!0),q("warning")):(i("Something went wrong"),O(!0),q("warning")):(i("user successfully created"),O(!0),q("info")),setTimeout((function(){i(""),O(!1),q("info")}),5e3)})):t(G(n)).unwrap().then((function(e){var t=Object(p.a)(e,2);t[0];t[1]?(i("Something went wrong"),O(!0),q("warning")):(i("user updated Successfully"),O(!0),q("success")),setTimeout((function(){i(""),O(!1),q("info")}),5e3)}))}});return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(W.a,{onClick:function(){return S.push("/employees")},children:Object(Z.jsx)(Ae.a,{})}),Object(Z.jsx)(te,{values:{severity:w,title:c,message:""},display:l?"flex":"none"}),Object(Z.jsx)(m.a,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItem:"center",mt:10},children:Object(Z.jsx)(f.a,{elevation:2,sx:{p:5},children:Object(Z.jsx)("form",{onSubmit:A.handleSubmit,children:Object(Z.jsxs)(x.a,{direction:"column",spacing:3,alignItems:"center",children:[Object(Z.jsx)(Et.a,{children:Object(Z.jsx)(g.a,{margin:"normal",id:"name",name:"name",label:"Name",value:A.values.name,onChange:A.handleChange,error:A.touched.name&&Boolean(A.errors.name),helperText:A.touched.name&&A.errors.name})}),Object(Z.jsx)(Et.a,{children:Object(Z.jsx)(g.a,{margin:"normal",id:"email",name:"email",label:"Email",value:A.values.email,onChange:A.handleChange,error:A.touched.email&&Boolean(A.errors.email),helperText:A.touched.email&&A.errors.email})}),Object(Z.jsxs)(Et.a,{component:"fieldset",children:[Object(Z.jsx)(Pt.a,{component:"legend",children:"Gender"}),Object(Z.jsxs)(Ft.a,{"aria-label":"gender",name:"gender",value:A.values.gender,onChange:A.handleChange,children:[Object(Z.jsx)(Wt.a,{value:"1",control:Object(Z.jsx)(Bt.a,{}),label:"Male"}),Object(Z.jsx)(Wt.a,{value:"2",control:Object(Z.jsx)(Bt.a,{}),label:"Female"})]})]}),Object(Z.jsxs)(Et.a,{component:"fieldset",children:[Object(Z.jsx)(Pt.a,{component:"legend",children:"Role"}),Object(Z.jsxs)(Ft.a,{"aria-label":"role",name:"role",value:A.values.role,onChange:A.handleChange,children:[Object(Z.jsx)(Wt.a,{value:"2",control:Object(Z.jsx)(Bt.a,{}),label:"Admin"}),Object(Z.jsx)(Wt.a,{value:"3",control:Object(Z.jsx)(Bt.a,{}),label:"User"})]})]}),Object(Z.jsx)(Et.a,{children:Object(Z.jsx)(g.a,{margin:"normal",id:"contact",name:"contact",label:"Contact",value:A.values.contact,onChange:A.handleChange,error:A.touched.contact&&Boolean(A.errors.contact),helperText:A.touched.contact&&A.errors.contact})}),Object(Z.jsx)(Et.a,{children:Object(Z.jsx)(g.a,{margin:"normal",id:"salary",name:"salary",label:"Salary",type:"number",value:A.values.salary,onChange:A.handleChange,error:A.touched.salary&&Boolean(A.errors.salary),helperText:A.touched.salary&&A.errors.salary})}),Object(Z.jsx)(v.a,{color:"primary",variant:"contained",type:"submit",margin:"normal",size:"medium",sx:{m:"0 auto"},children:"post"===a?"Add User":"Update"})]})})})})]})},Gt=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).requestId=n.props.match.params.id,n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(xt(this.requestId))}},{key:"render",value:function(){var e=this.props.request.requestResult;return Object(Z.jsx)(u.a,{sx:{p:3,lineHeight:"20px",maxWidth:"30vw"},children:Object(Z.jsxs)(f.a,{elevation:2,sx:{padding:4},children:[Object(Z.jsxs)(Oe.a,{variant:"h6",children:["ID: ",e.id," ",Object(Z.jsx)("br",{})]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body1",children:["From: ",e.from," ",Object(Z.jsx)("br",{}),"To: ",e.to," ",Object(Z.jsx)("br",{}),"Reson: ",e.remarks]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body2",children:["Approval Status: ",e.approval_status?e.approval_status:"Pending",Object(Z.jsx)("br",{}),"Approved By: ",e.approved_by?"Super Admin":"---"]})]})})}}]),a}(s.Component);Gt=Object(b.b)((function(e){return{request:e.request}}))(Gt);var Jt,Yt=a(501),Kt=Object(S.b)("getall/holiday",Object(q.a)(w.a.mark((function e(){var t,a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"holidays",t=T("token"),C.defaults.headers.common.Authorization=t,e.next=6,C.get("holidays");case 6:return a=e.sent,e.abrupt("return",[a.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return n=e.t0.response,r=n.data,s=n.status,c=n.headers,e.abrupt("return",[null,{data:r,status:s,headers:c}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})))),Qt=Object(S.b)("get/holiday",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="requests/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.get(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Xt=Object(S.b)("delete/holiday",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="holidays/"+t,n=T("token"),C.defaults.headers.common.Authorization=n,e.next=6,C.delete(a);case 6:return r=e.sent,e.abrupt("return",[r.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return s=e.t0.response,c=s.data,i=s.status,o=s.headers,e.abrupt("return",[null,{data:c,status:i,headers:o}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Zt=Object(S.b)("post/holiday",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"holidays",a=T("token"),C.defaults.headers.common.Authorization=a,e.next=6,C.post("holidays",t);case 6:return n=e.sent,e.abrupt("return",[n.data,null]);case 10:if(e.prev=10,e.t0=e.catch(0),!e.t0.response){e.next=17;break}return r=e.t0.response,s=r.data,c=r.status,i=r.headers,e.abrupt("return",[null,{data:s,status:c,headers:i}]);case 17:if(!e.t0.request){e.next=21;break}return e.abrupt("return",[null,e.t0.request]);case 21:return e.abrupt("return",[null,e.t0.message]);case 22:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),$t=Object(S.b)("patch/holiday",function(){var e=Object(q.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o,u,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.holidayId,n=t.data,r="holidays/"+a,s=T("token"),C.defaults.headers.common.Authorization=s,e.next=8,C.patch(r,n);case 8:return c=e.sent,e.abrupt("return",[c.data,null]);case 12:if(e.prev=12,e.t0=e.catch(0),!e.t0.response){e.next=19;break}return i=e.t0.response,o=i.data,u=i.status,l=i.headers,e.abrupt("return",[null,{data:o,status:u,headers:l}]);case 19:if(!e.t0.request){e.next=23;break}return e.abrupt("return",[null,e.t0.request]);case 23:return e.abrupt("return",[null,e.t0.message]);case 24:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()),ea=Object(S.c)({name:"holiday",initialState:{allHolidayData:[],holidayResult:{},loading:!1,error:{}},reducers:{},extraReducers:(Jt={},Object(y.a)(Jt,Kt.pending,(function(e,t){e.loading=!0})),Object(y.a)(Jt,Kt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.allHolidayData=n.data})),Object(y.a)(Jt,Kt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(Jt,Qt.pending,(function(e,t){e.loading=!0})),Object(y.a)(Jt,Qt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.requestResult=n.data})),Object(y.a)(Jt,Qt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(Jt,Zt.pending,(function(e,t){e.loading=!0})),Object(y.a)(Jt,Zt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.holidayResult=n.data})),Object(y.a)(Jt,Zt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(Jt,$t.pending,(function(e,t){e.loading=!0})),Object(y.a)(Jt,$t.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.holidayResult=n.data})),Object(y.a)(Jt,$t.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(Jt,Xt.pending,(function(e,t){e.loading=!0})),Object(y.a)(Jt,Xt.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.requestResult=n.data})),Object(y.a)(Jt,Xt.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Jt)}),ta=ea.reducer,aa=(ea.actions,ta),na=function(e){var t=e.holiday,a=Object(b.c)(),n=Object(s.useState)(""),r=Object(p.a)(n,2),c=r[0],i=r[1],o=Object(s.useState)(!1),u=Object(p.a)(o,2),d=u[0],j=u[1],h=Object(s.useState)("info"),O=Object(p.a)(h,2),m=O[0],f=O[1];return Object(Z.jsxs)("div",{children:[Object(Z.jsx)(te,{values:{severity:m,title:c,message:""},display:d?"flex":"none"}),Object(Z.jsxs)(Dt.a,{sx:{minWidth:275,margin:4},children:[Object(Z.jsxs)(Ct.a,{children:[Object(Z.jsx)(Oe.a,{variant:"h6",children:t.title}),Object(Z.jsx)(Oe.a,{sx:{mb:1.5},color:"text.secondary",children:t.date}),Object(Z.jsx)(Oe.a,{variant:"body2",children:t.descriptions})]}),Object(Z.jsxs)(Yt.a,{children:[Object(Z.jsx)(l.b,{to:{pathname:"/holiday/edit/".concat(t.id),state:{data:t,method:"patch"}},style:{textDecoration:"none",color:"dark"},children:Object(Z.jsx)(v.a,{size:"small",children:"Edit"})}),Object(Z.jsx)(v.a,{size:"small",onClick:function(){a(Xt(t.id)).unwrap().then((function(e){var t=Object(p.a)(e,2);t[0];!function(e,t){t?(i("Something went wrong"),j(!0),f("warning")):(i("Success!"),j(!0),f("success")),setTimeout((function(){i(""),j(!1),f("info")}),5e3)}(0,t[1]),a(Kt())}))},children:"Delete"})]})]})]})},ra=function(){var e=Object(b.c)(),t=Object(b.d)((function(e){return e.holiday}));return Object(s.useEffect)((function(){e(Kt())}),[]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(l.b,{to:{pathname:"/newHoliday",state:{method:"post",data:{}}},style:{textDecoration:"none"},children:Object(Z.jsx)(v.a,{variant:"contained",sx:{m:4,mb:0},children:"Add new Holiday"})}),t.allHolidayData.map((function(e){return Object(Z.jsx)(na,{holiday:e})}))]})},sa=a(463),ca=a(379),ia=a(464),oa=function(e){var t=Object(b.c)(),a=(Object(d.g)(),e.location.state),n=a.method,r=a.data,c=Object(s.useState)(r.title?r.title:""),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)(r.description?r.description:""),h=Object(p.a)(l,2),O=h[0],m=h[1],f=Object(s.useState)(r.date?new Date(r.date):new Date),y=Object(p.a)(f,2),k=y[0],w=y[1],q=Object(s.useState)(""),S=Object(p.a)(q,2),D=S[0],C=S[1],A=Object(s.useState)(!1),_=Object(p.a)(A,2),T=_[0],R=_[1],I=Object(s.useState)("info"),U=Object(p.a)(I,2),H=U[0],V=U[1],z=function(e,t){t?(C("Something went wrong"),R(!0),V("warning")):(C("Success!"),R(!0),V("success")),setTimeout((function(){C(""),R(!1),V("info")}),5e3)};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(te,{values:{severity:H,title:D,message:""},display:T?"flex":"none"}),Object(Z.jsx)("form",{onSubmit:function(e){!function(e){e.preventDefault();var a={title:o,date:k,description:O};"post"===n?t(Zt(a)).unwrap().then((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];z(a,n)})):t($t({data:a,holidayId:r.id})).unwrap().then((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];z(a,n)}))}(e)},children:Object(Z.jsxs)(x.a,{sx:{padding:4,width:.6},children:[Object(Z.jsx)(g.a,{margin:"normal",id:"title",name:"title",label:"Title",value:o,onChange:function(e){u(e.target.value)}}),Object(Z.jsx)(g.a,{margin:"normal",id:"description",name:"description",label:"Description",value:O,onChange:function(e){m(e.target.value)},sx:{marginBottom:4}}),Object(Z.jsx)(ca.b,{dateAdapter:sa.a,children:Object(Z.jsx)(ia.a,{label:"Date",value:k,onChange:function(e){w(e)},renderInput:function(e){return Object(Z.jsx)(g.a,Object(j.a)({},e))}})}),Object(Z.jsx)(v.a,{variant:"contained",sx:{width:.2,marginTop:4},type:"submit",children:"Add to list"})]})})]})},ua=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).clockOut=function(e){if(e.length)return null===n.latestAttendance(e).clock_out},n.latestAttendance=function(e){return e[e.length-1]},n.dispatch=n.props.dispatch,n.userId=n.props.userDetail.currentUserData.id,n.state={messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(ct()),this.dispatch(Kt())}},{key:"promiseHandler",value:function(e){var t=this;e?this.setState({messageTitle:e.data.message,messageSeverity:"warning",messageVisibility:"flex"}):this.setState({messageTitle:"Attendance Successfully Recorded",messageSeverity:"success",messageVisibility:"flex"}),setTimeout((function(){t.setState({messageTitle:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)}},{key:"render",value:function(){var e=this,t=this.props.attendance.allAttendanceData;return Object(Z.jsxs)(u.a,{sx:{margin:6},children:[Object(Z.jsx)("h1",{children:"User DashBoard"}),Object(Z.jsx)(v.a,{variant:"contained",sx:{marginRight:6,background:Se.main,"&:hover":{transform:"scale(1.1)"}},onClick:function(){e.clockOut(t)?e.dispatch(ut({attId:e.latestAttendance(t).id,data:{user_id:e.userId}})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(ct())})):e.dispatch(ot({user_id:e.userId})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(ct(e.userId))}))},children:this.clockOut(t)?"Clock Out":"Clock In"}),Object(Z.jsx)(l.b,{to:{pathname:"/newRequest",state:{method:"post",from:this.props.location.path}},style:{textDecoration:"none",color:"light"},children:Object(Z.jsx)(v.a,{variant:"contained",children:"Schedule A Leave"})}),Object(Z.jsxs)(x.a,{direction:"row",children:[Object(Z.jsx)(f.a,{sx:{maxWidth:"30vw",marginTop:4},children:Object(Z.jsx)(l.b,{to:{pathname:"/attendance"},style:{textDecoration:"none"},children:Object(Z.jsx)(je.a,{sx:{minHeight:"200px",minWidth:"200px",maxHeight:"60vh",overflow:"auto"},subheader:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Tt.a,{component:"div",id:"nested-list-subheader",children:"Attendance History"}),Object(Z.jsx)(me.a,{})]}),children:this.props.attendance.allAttendanceData.map((function(e,t){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(me.a,{}),Object(Z.jsx)(pe.a,{children:Object(Z.jsxs)(he.a,{children:[Object(Z.jsx)(Oe.a,{variant:"body1",children:"Date : ".concat(e.att_date)}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"Clock In : ".concat(e.clock_in?e.clock_in.slice(11,19):"---")}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"ClockOut : ".concat(e.clock_out?e.clock_out.slice(11,19):"---")})]})},t),Object(Z.jsx)(me.a,{})]})}))})})}),Object(Z.jsx)(f.a,{sx:{maxWidth:"30vw",marginTop:4,marginLeft:10},children:Object(Z.jsx)(je.a,{sx:{minHeight:"200px",minWidth:"200px",maxHeight:"60vh",overflow:"auto"},subheader:Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Tt.a,{component:"div",id:"nested-list-subheader",children:"Attendance History"}),Object(Z.jsx)(me.a,{})]}),children:this.props.holiday.allHolidayData.map((function(e,t){return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(me.a,{}),Object(Z.jsx)(pe.a,{children:Object(Z.jsxs)(he.a,{children:[Object(Z.jsx)(Oe.a,{variant:"body1",children:"".concat(e.title)}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"".concat(e.date)}),Object(Z.jsx)(Oe.a,{variant:"body2",children:"Description : ".concat(e.description)})]})},t),Object(Z.jsx)(me.a,{})]})}))})})]})]})}}]),a}(s.Component);ua=Object(b.b)((function(e){return{userDetail:e.userDetail,attendance:e.attendance,holiday:e.holiday}}))(ua);var la=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).dispatch=n.props.dispatch,n.location=n.props.location,n.state={messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(ct())}},{key:"inOutToggle",value:function(e){if(e.length)return e[e.length-1].clock_out}},{key:"latestAttendance",value:function(e){return e[e.length-1]}},{key:"promiseHandler",value:function(e){var t=this;e?this.setState({messageTitle:e.data.message,messageSeverity:"warning",messageVisibility:"flex"}):this.setState({messageTitle:"Attendance Successfully Recorded",messageSeverity:"info",messageVisibility:"flex"}),setTimeout((function(){t.setState({messageTitle:"",messageSeverity:"info",messageVisibility:"none"})}),5e3)}},{key:"render",value:function(){var e=this,t=this.props.allAttendanceData.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{clock_in:null!==e.clock_in?e.clock_in.slice(11,19):null,clock_out:null!==e.clock_out?e.clock_out.slice(11,19):null,leave_status:e.leave_status?"on a leave":"none"})})),a=this.inOutToggle(t);return Object(Z.jsxs)(pt.a,{sx:{p:5,maxWidth:"800px"},children:[Object(Z.jsx)("h3",{children:"Attendance"}),Object(Z.jsx)(te,{values:{severity:this.state.messageSeverity,title:this.state.messageTitle,message:""},display:this.state.messageVisibility}),Object(Z.jsx)(Ze,{data:t,fields:["att_date","clock_in","clock_out","leave_status"],buttons:[{type:"none"}]}),Object(Z.jsx)("br",{}),Object(Z.jsx)(v.a,{variant:"contained",onClick:function(){null===a?e.dispatch(ut({attId:e.latestAttendance(t).id})).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n),e.dispatch(ct())})):e.dispatch(ot()).unwrap().then((function(t){var a=Object(p.a)(t,2),n=(a[0],a[1]);e.promiseHandler(n)}))},children:null===a?"Clock Out":"Clock In"})]})}}]),a}(s.Component);la=Object(b.b)((function(e){return Object(j.a)({},e.attendance)}))(la);var da=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).dispatch=n.props.dispatch,n.history=n.props.history,n.state={messageTitle:"",messageSeverity:"info",messageVisibility:"none"},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(gt())}},{key:"render",value:function(){var e=this,t=this.props.myRequestData;return Object(Z.jsxs)(pt.a,{sx:{p:5,maxWidth:"800px"},children:[Object(Z.jsx)("h1",{children:"User Leave Requests"}),Object(Z.jsx)(Ze,{data:t,fields:["from","to","approval_status"],buttons:[{type:"view",callback:function(t){e.history.push("/requests/"+t)}},{type:"edit",callback:function(t){e.dispatch(xt(t)).unwrap().then((function(a){var n=Object(p.a)(a,2),r=n[0];n[1];e.history.push("/editRequest/".concat(t),{requestData:r.data,method:"patch"})}))}}]}),Object(Z.jsx)(l.b,{to:{pathname:"/newRequest",state:{method:"post",from:this.props.location.path}},style:{textDecoration:"none"},children:Object(Z.jsx)(v.a,{variant:"contained",sx:{marginTop:4},children:"Apply For Leave"})})]})}}]),a}(s.Component);da=Object(b.b)((function(e){return Object(j.a)({},e.request)}))(da);var ba=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).userId=n.props.match.params.id,n.dispatch=n.props.dispatch,n.state={error:"",userDetails:{}},n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.dispatch(M()).unwrap().then((function(e){var t=Object(p.a)(e,2);t[0],t[1]}))}},{key:"render",value:function(){var e=this,t=this.props.currentUserData;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(W.a,{sx:{mb:5},onClick:function(){return e.props.history.goBack()},children:Object(Z.jsx)(Ae.a,{})}),Object(Z.jsx)(u.a,{sx:{p:5},children:Object(Z.jsxs)(x.a,{direction:"row",spacing:3,children:[Object(Z.jsx)(_e.a,{alt:"user profile pricture",src:"https://thispersondoesnotexist.com/image",variant:"rounded",sx:{width:"25%",height:"auto"}}),Object(Z.jsx)(me.a,{orientation:"vertical"}),Object(Z.jsxs)(u.a,{sx:{p:3,lineHeight:"20px"},children:[Object(Z.jsxs)(Oe.a,{variant:"h6",children:["ID: ",t.id," ",Object(Z.jsx)("br",{}),"Name: ",t.name]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body1",children:["Email: ",t.email," ",Object(Z.jsx)("br",{}),"Contact: ",t.contact," ",Object(Z.jsx)("br",{}),"role: ",1===t.role?"SuperUser":2===t.role?"Admin":"User"]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body2",children:["Gender: ",1===t.gender?"Male":"Female",Object(Z.jsx)("br",{}),"Salary: ",t.salary]})]})]})})]})}}]),a}(s.Component);ba=Object(b.b)((function(e){return Object(j.a)({},e.userDetail)}))(ba);var ja,pa=a(502),ha=function(e){var t=Object(d.g)(),a=Object(b.c)(),n=e.location.state.method,r=t.location.state.requestData,c=Object(s.useState)(""),i=Object(p.a)(c,2),o=i[0],u=i[1],l=Object(s.useState)("none"),h=Object(p.a)(l,2),O=h[0],m=h[1],f=Object(s.useState)("info"),y=Object(p.a)(f,2),k=y[0],w=y[1],q=Object(s.useState)(r?new Date(r.from):new Date),S=Object(p.a)(q,2),D=S[0],C=S[1],A=Object(s.useState)(r?new Date(r.to):new Date),_=Object(p.a)(A,2),T=_[0],R=_[1],I=Object(s.useState)(r?r.remarks:""),U=Object(p.a)(I,2),H=U[0],V=U[1],z=function(e){e?e.data.message?(u("oops!! Something Went Wrong, Cannot request leave"),w("warning"),m("flex")):(u("cannot update current request"),w("warning"),m("flex")):(u("Request Sent"),w("success"),m("flex")),setTimeout((function(){u(""),w("info"),m("none")}),5e3)};return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(W.a,{onClick:function(){return t.push("/requests")},children:Object(Z.jsx)(Ae.a,{})}),Object(Z.jsx)(te,{values:{severity:k,title:o,message:""},display:O}),Object(Z.jsxs)("form",{onSubmit:function(e){!function(e){e.preventDefault();var t={data:{from:D,to:T,remarks:H},requestId:r?r.id:null};"post"===n?a(yt(t.data)).unwrap().then((function(e){var t=Object(p.a)(e,2),a=(t[0],t[1]);z(a)})):a(kt(t)).unwrap().then((function(e){var t=Object(p.a)(e,2),a=(t[0],t[1]);z(a)}))}(e)},children:[Object(Z.jsxs)(x.a,{direction:"row",sx:{padding:4},children:[Object(Z.jsx)(ca.b,{dateAdapter:sa.a,children:Object(Z.jsx)(pa.a,{label:"From",value:D,onChange:function(e){C(e)},renderInput:function(e){return Object(Z.jsx)(g.a,Object(j.a)({},e))}})}),Object(Z.jsx)(ca.b,{dateAdapter:sa.a,children:Object(Z.jsx)(pa.a,{label:"To",value:T,onChange:function(e){R(e)},renderInput:function(e){return Object(Z.jsx)(g.a,Object(j.a)({},e))}})})]}),Object(Z.jsx)(g.a,{margin:"normal",id:"remarks",name:"Remarks",label:"Reason",value:H,multiline:!0,rows:"5",onChange:function(e){V(e.target.value)},sx:{mx:4,width:.5}}),Object(Z.jsx)(v.a,{variant:"contained",type:"submit",sx:{m:2},children:"Send"})]})]})},Oa=function(e){Object(V.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(U.a)(this,a),(n=t.call(this,e)).requestId=n.props.match.params.id,n}return Object(H.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(xt(this.requestId)).unwrap().then((function(e){var t=Object(p.a)(e,2);t[0],t[1]}))}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.request.requestResult;return Object(Z.jsxs)(u.a,{sx:{p:3,lineHeight:"20px",maxWidth:"30vw"},children:[Object(Z.jsx)(W.a,{sx:{mb:5},onClick:function(){return e.props.history.goBack()},children:Object(Z.jsx)(Ae.a,{})}),Object(Z.jsxs)(Oe.a,{variant:"h6",children:["ID: ",t.id," ",Object(Z.jsx)("br",{})]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body1",children:["From: ",t.from," ",Object(Z.jsx)("br",{}),"To: ",t.to," ",Object(Z.jsx)("br",{}),"Reson: ",t.remarks]}),Object(Z.jsx)(me.a,{}),Object(Z.jsx)("br",{}),Object(Z.jsxs)(Oe.a,{variant:"body2",children:["Approval Status: ",t.approval_status?t.approval_status:"Pending",Object(Z.jsx)("br",{}),"Approved By: ",t.approved_by?"Super Admin":"---"]})]})}}]),a}(s.Component);Oa=Object(b.b)((function(e){return{request:e.request}}))(Oa);var ma=Object(S.b)("post/email",function(){var e=Object(q.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"/forgot_password",e.next=4,C.post("/forgot_password",t);case 4:return n=e.sent,e.abrupt("return",[n.data,null]);case 8:return e.prev=8,e.t0=e.catch(0),r=e.t0.response.data,e.abrupt("return",[null,r]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}()),fa=Object(S.b)("patch/password",function(){var e=Object(q.a)(w.a.mark((function e(t,a){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.rejectWithValue,e.prev=1,"reset_password",e.next=5,C.post("reset_password",t);case 5:return n=e.sent,e.abrupt("return",[n,null]);case 9:return e.prev=9,e.t0=e.catch(1),r=e.t0.response.data,e.abrupt("return",[null,r]);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}()),xa=Object(S.c)({initialState:{loading:!1,result:{},error:{}},name:"resetPassword",reducers:{},extraReducers:(ja={},Object(y.a)(ja,ma.pending,(function(e,t){e.loading=!0})),Object(y.a)(ja,ma.fulfilled,(function(e,t){var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];e.loading=!1,r?e.error=r:e.result=n})),Object(y.a)(ja,ma.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),Object(y.a)(ja,fa.pending,(function(e,t){e.loading=!0})),Object(y.a)(ja,fa.fulfilled,(function(e,t){e.loading=!1;var a=Object(p.a)(t.payload,2),n=a[0],r=a[1];r?e.error=r:e.result=n})),Object(y.a)(ja,fa.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),ja)}).reducer,ga=O.b({email:O.c("Enter your email").email("Enter a valid email").required("Email is required")}),va=function(e){var t=Object(s.useState)(!1),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(""),i=Object(p.a)(c,2),o=i[0],l=i[1],d=Object(s.useState)("info"),O=Object(p.a)(d,2),y=O[0],k=O[1],w=Object(b.c)(),q=Object(h.a)({initialValues:{email:""},validationSchema:ga,onSubmit:function(t){w(ma(Object(j.a)({},t))).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0],s=a[1];s?(k("error"),l(s.message),r(!0)):(l(n.message),r(!0),e.history.push("/resetPassword")),setTimeout((function(){k("info"),r(!1),l("")}),5e3)}))}});return Object(Z.jsxs)(u.a,{sx:{height:"100vh"},children:[Object(Z.jsx)($,{}),Object(Z.jsx)(te,{values:{severity:y,title:"",message:o},display:n?"flex":"none"}),Object(Z.jsx)(m.a,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItem:"center",mt:10},children:Object(Z.jsx)(f.a,{elevation:2,sx:{p:5},children:Object(Z.jsx)("form",{onSubmit:q.handleSubmit,children:Object(Z.jsxs)(x.a,{direction:"column",spacing:3,alignItems:"center",children:[Object(Z.jsx)(Oe.a,{variant:"body1",children:"Please Enter your email to search your account."}),Object(Z.jsx)(g.a,{margin:"normal",id:"email",name:"email",label:"Email",value:q.values.email,onChange:q.handleChange,error:q.touched.email&&Boolean(q.errors.email),helperText:q.touched.email&&q.errors.email}),Object(Z.jsx)(v.a,{color:"primary",variant:"contained",type:"submit",margin:"normal",size:"medium",sx:{m:"0 auto"},children:"Continue"})]})})})})]})},ya=O.b({token:O.c("Enter your token").required("token is required"),password:O.c("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),ka=function(e){var t=Object(s.useState)(""),a=Object(p.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)("info"),i=Object(p.a)(c,2),o=i[0],l=i[1],d=Object(s.useState)(!1),O=Object(p.a)(d,2),y=O[0],k=O[1],w=Object(b.c)(),q=Object(h.a)({initialValues:{token:"",password:""},validationSchema:ya,onSubmit:function(t){w(fa(Object(j.a)({},t))).unwrap().then((function(t){var a=Object(p.a)(t,2),n=a[0],s=a[1];s?(l("error"),r(s.message),k(!0)):(r(n.message),k(!0),e.history.push("/resetPassword")),setTimeout((function(){l("info"),k(!1),r("")}),5e3)}))}});return Object(Z.jsxs)(u.a,{sx:{height:"100vh"},children:[Object(Z.jsx)($,{}),Object(Z.jsx)(te,{values:{severity:o,title:"",message:n},display:y?"flex":"none"}),Object(Z.jsx)(m.a,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",alignItem:"center",mt:10},children:Object(Z.jsx)(f.a,{elevation:2,sx:{p:5},children:Object(Z.jsx)("form",{onSubmit:q.handleSubmit,children:Object(Z.jsxs)(x.a,{direction:"column",spacing:3,alignItems:"center",children:[Object(Z.jsx)(g.a,{margin:"normal",id:"token",name:"token",label:"token",value:q.values.token,onChange:q.handleChange,error:q.touched.token&&Boolean(q.errors.token),helperText:q.touched.token&&q.errors.token}),Object(Z.jsx)(g.a,{margin:"normal",id:"password",name:"password",label:"New Password",type:"password",value:q.values.password,onChange:q.handleChange,error:q.touched.password&&Boolean(q.errors.password),helperText:q.touched.password&&q.errors.password}),Object(Z.jsx)(v.a,{color:"primary",variant:"contained",type:"submit",margin:"normal",size:"medium",sx:{m:"0 auto"},children:"Reset Your Password"})]})})})})]})};var wa=function(){var e=Object(b.d)((function(e){return e.userDetail})),t=function(t,a){return e.currentUserData.role<=2?a:t};return Object(Z.jsx)(l.a,{children:Object(Z.jsx)(u.a,{sx:{bgcolor:we.palette.light.main},children:Object(Z.jsxs)(d.d,{children:[Object(Z.jsx)(d.b,{exact:!0,path:"/login",component:se}),Object(Z.jsx)(d.b,{exact:!0,path:"/forgot-password",component:va}),Object(Z.jsx)(d.b,{exact:!0,path:"/resetPassword",component:ka}),Object(Z.jsx)(ye,{exact:!0,path:"/",component:t(ua,Ht)}),Object(Z.jsx)(ye,{exact:!0,path:"/dashboard",component:t(ua,Ht)}),Object(Z.jsx)(ye,{exact:!0,path:"/users/:id",component:bt}),Object(Z.jsx)(ye,{exact:!0,path:"/userprofile",component:ba}),Object(Z.jsx)(ye,{exact:!0,path:"/newUser",component:Lt}),Object(Z.jsx)(ye,{exact:!0,path:"/users/edit/:id",component:Lt}),Object(Z.jsx)(ye,{exact:!0,path:"/attendance",component:t(la,mt)}),Object(Z.jsx)(ye,{exact:!0,path:"/employees",component:zt}),Object(Z.jsx)(ye,{exact:!0,path:"/requests",component:t(da,Vt)}),Object(Z.jsx)(ye,{exact:!0,path:"/newRequest",component:ha}),Object(Z.jsx)(ye,{exact:!0,path:"/editRequest/:id",component:ha}),Object(Z.jsx)(ye,{exact:!0,path:"/requests/:id",component:t(Oa,Gt)}),Object(Z.jsx)(ye,{exact:!0,path:"/holidays",component:ra}),Object(Z.jsx)(ye,{exact:!0,path:"/newHoliday",component:oa}),Object(Z.jsx)(ye,{exact:!0,path:"/holiday/edit/:id",component:oa}),Object(Z.jsx)(d.b,{path:"*",component:Ot})]})})})},qa=Object(S.a)({reducer:{auth:_,allUser:nt,userDetail:X,resetPassword:xa,attendance:dt,request:St,holiday:aa}}),Sa=a(476);o.a.render(Object(Z.jsx)(c.a.StrictMode,{children:Object(Z.jsx)(b.a,{store:qa,children:Object(Z.jsx)(Sa.a,{theme:we,children:Object(Z.jsx)(wa,{})})})}),document.getElementById("root"))}},[[372,1,2]]]);
//# sourceMappingURL=main.5c97fe5f.chunk.js.map